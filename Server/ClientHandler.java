// Handles one connected client in its own thread.
//Reads commands line-by-line, calls protocol logic, writes responses.